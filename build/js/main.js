"use strict";!function(){var e,t,o,n=document.querySelector(".about-us");if(n)for(var c=n.querySelectorAll("p"),a=window.matchMedia("(max-width: 1023px)"),r=0;r<c.length;r++)c[r].innerText=(e=c[r],t=200,o=void 0,(o=e.innerText).length>t&&a.matches&&(o=o.substr(0,t)+".."),o)}(),function(){if(document.querySelector(".page-footer")){var e=document.querySelector(".page-footer__navigation"),t=document.querySelector(".page-footer__activity-accordion-toggler"),o=document.querySelector(".page-footer__contacts"),n=document.querySelector(".page-footer__contacts-accordion-toggler"),c={PLUS:"#icon-plus",MINUS:"#icon-minus"},a=function(e,t){e.classList.toggle(t),e.classList.contains(t)?e.querySelector("use").href.baseVal=c.PLUS:e.querySelector("use").href.baseVal=c.MINUS};t.addEventListener("click",function(){a(e,"page-footer__navigation--closed")}),n.addEventListener("click",function(){a(o,"page-footer__contacts--closed")})}}(),function(){for(var e,t=document.querySelector("body"),o=document.querySelector(".modal-feedback"),n=document.querySelectorAll('input[type="tel"]'),c={LONG:"Escape",SHORT:"Esc"},a=0;a<n.length;a++)n[a]&&((e=n[a],new window.IMask(e,{mask:"+0 (000) 000-00-00",lazy:!0})).unmaskedValue="7 ");if(o){var r=document.querySelector(".header__button"),u=document.querySelector(".modal-feedback__close-button"),d=document.querySelector(".modal-feedback__form form"),i=document.getElementById("modal-user-name"),s=document.getElementById("modal-user-phone"),l=document.getElementById("modal-question"),m=document.getElementById("modal-admission"),f={userName:"",userPhone:"",userQuestion:""},y=function(e){(e.key===c.LONG||e.key===c.SHORT)&&g(),t.removeEventListener("keydown",y)},g=function(){o.classList.add("modal-feedback--hidden"),t.style.overflow=""};r.addEventListener("click",function(){o.classList.remove("modal-feedback--hidden"),t.style.overflow="hidden",setTimeout(function(){i.focus()},500),t.addEventListener("keydown",y)}),window.addEventListener("click",function(e){e.target===o&&g()}),u.addEventListener("click",g),d.addEventListener("submit",function(e){e.preventDefault(),m.checked&&(f.userName=i.value,f.userPhone=s.value,f.userQuestion=l.value,localStorage.setItem("userData",JSON.stringify(f)),g()),o.style.animation="shake 0.8s",setTimeout(function(){o.style.animation=""},600)})}}();