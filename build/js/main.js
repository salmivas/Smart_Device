"use strict";!function(){var e,t,o,n=document.querySelector(".page-footer__navigation"),c=document.querySelector(".page-footer__activity-accordion-toggler"),a=document.querySelector(".page-footer__contacts"),r=document.querySelector(".page-footer__contacts-accordion-toggler"),u=document.querySelectorAll(".about-us p"),d=window.matchMedia("(max-width: 1023px)"),s="#icon-plus",i="#icon-minus",l=function(e,t){e.classList.toggle(t),e.classList.contains(t)?e.querySelector("use").href.baseVal=s:e.querySelector("use").href.baseVal=i};c.addEventListener("click",function(){l(n,"page-footer__navigation--closed")}),r.addEventListener("click",function(){l(a,"page-footer__contacts--closed")});for(var m=0;m<u.length;m++)u[m].innerText=(e=u[m],t=200,o=void 0,(o=e.innerText).length>t&&d.matches&&(o=o.substr(0,t)+".."),o)}(),function(){var e,t=document.querySelector("body"),o=document.querySelector(".header__button"),n=document.querySelector(".modal-feedback"),c=document.querySelector(".modal-feedback__close-button"),a=document.querySelector(".modal-feedback__form form"),r=document.getElementById("modal-user-name"),u=document.getElementById("modal-user-phone"),d=document.getElementById("modal-question"),s=document.getElementById("modal-admission"),i=document.querySelectorAll('input[type="tel"]'),l={LONG:"Escape",SHORT:"Esc"},m={userName:"",userPhone:"",userQuestion:""},f=function(e){(e.key===l.LONG||e.key===l.SHORT)&&y(),t.removeEventListener("keydown",f)},y=function(){n.classList.add("modal-feedback--hidden"),t.style.overflow=""};o.addEventListener("click",function(){n.classList.remove("modal-feedback--hidden"),t.style.overflow="hidden",setTimeout(function(){r.focus()},500),t.addEventListener("keydown",f)}),window.addEventListener("click",function(e){e.target===n&&y()}),c.addEventListener("click",y),a.addEventListener("submit",function(e){e.preventDefault(),s.checked&&(m.userName=r.value,m.userPhone=u.value,m.userQuestion=d.value,localStorage.setItem("userData",JSON.stringify(m)),y()),n.style.animation="shake 0.8s",setTimeout(function(){n.style.animation=""},600)});for(var g=0;g<i.length;g++)(e=i[g],new window.IMask(e,{mask:"+0 (000) 000-00-00",lazy:!0})).unmaskedValue="7 "}();