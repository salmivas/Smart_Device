"use strict";!function(){var e,t,o,n=document.querySelector(".page-footer__navigation"),a=document.querySelector(".page-footer__activity-accordion-toggler"),c=document.querySelector(".page-footer__contacts"),s=document.querySelector(".page-footer__contacts-accordion-toggler"),d=document.querySelectorAll(".facts-and-information p"),r=window.matchMedia("(max-width: 1023px)"),i="#icon-plus",u="#icon-minus",l="page-footer__navigation--closed",m="page-footer__navigation--opened",f="page-footer__contacts--closed",y="page-footer__contacts--opened",v=function(e,t,o){e.classList.contains(o)?(e.classList.remove(o),e.classList.add(t),e.querySelector("use").href.baseVal=u):(e.classList.add(o),e.classList.remove(t),e.querySelector("use").href.baseVal=i)};a.addEventListener("click",function(){v(n,m,l)}),s.addEventListener("click",function(){v(c,y,f)});for(var g=0;g<d.length;g++)d[g].innerText=(e=d[g],t=200,o=void 0,(o=e.innerText).length>t&&r.matches&&(o=o.substr(0,t)+".."),o)}(),function(){var e=document.querySelector("body"),t=document.querySelector(".header__button"),o=document.querySelector(".modal-feedback"),n=document.querySelector(".modal-feedback__close-button"),a=document.querySelector(".modal-feedback__form form"),c=document.getElementById("modal-user-name"),s=document.getElementById("modal-user-phone"),d=document.getElementById("modal-question"),r=document.getElementById("modal-admission"),i={LONG:"Escape",SHORT:"Esc"},u={userName:"",userPhone:"",userQuestion:""},l=IMask(s,{mask:"+0 (000) 000-00-00",lazy:!0}),m=function(t){(t.key===i.LONG||t.key===i.SHORT)&&f(),e.removeEventListener("keydown",m)},f=function(){o.classList.add("modal-feedback--hidden"),e.style.overflow=""};t.addEventListener("click",function(){o.classList.remove("modal-feedback--hidden"),e.style.overflow="hidden",setTimeout(function(){c.focus()},500),e.addEventListener("keydown",m)}),window.addEventListener("click",function(e){e.target===o&&f()}),n.addEventListener("click",f),a.addEventListener("submit",function(e){e.preventDefault(),r.checked&&(u.userName=c.value,u.userPhone=s.value,u.userQuestion=d.value,localStorage.setItem("userData",JSON.stringify(u)),f()),o.style.animation="shake 0.8s",setTimeout(function(){o.style.animation=""},600)}),l.unmaskedValue="7 "}();